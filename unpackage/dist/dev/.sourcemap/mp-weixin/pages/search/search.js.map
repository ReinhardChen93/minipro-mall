{"version":3,"sources":["webpack:////Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/main.js","webpack:////Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/pages/search/search.vue?6031","webpack:////Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/pages/search/search.vue?6b69","webpack:////Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/pages/search/search.vue?031a","webpack:////Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/pages/search/search.vue?4017","webpack:////Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/pages/search/search.vue"],"names":["createPage","Page","components","card","colorTag","uniListItem","data","historyList","keyword","hot","name","cate","onNavigationBarButtonTap","e","index","uni","navigateTo","url","onNavigationBarSearchInputChanged","text","onNavigationBarSearchInputConfirmed","search","history","getStorageSync","JSON","parse","quickSearch","showToast","title","icon","hideKeyboard","setTimeout","addHistory","onInputChange","event","target","value","indexOf","unshift","splice","length","setStorageSync","stringify","clearHistory","showModal","content","cancelText","confirmText","success","res","confirm","removeStorageSync","fail","complete"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACzCf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAo0B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8Cv1BC,YAAU,EAAC;AACVC,QAAI,EAAJA,IADU;AAEVC,YAAQ,EAARA,QAFU;AAGVC,eAAW,EAAXA,WAHU,E;;AAKXC,M,kBAAO;AACN,WAAO;AACNC,iBAAW,EAAC,EADN;AAENC,aAAO,EAAC,EAFF;AAGNC,SAAG,EAAE;AACJ,QAACC,IAAI,EAAC,MAAN,EADI;AAEJ,QAACA,IAAI,EAAC,WAAN,EAFI;AAGJ,QAACA,IAAI,EAAC,YAAN,EAHI;AAIJ,QAACA,IAAI,EAAC,OAAN,EAJI,CAHC;;AASNC,UAAI,EAAC;AACJ,QAAED,IAAI,EAAC,IAAP,EADI;AAEJ,QAAEA,IAAI,EAAC,IAAP,EAFI;AAGJ,QAAEA,IAAI,EAAC,IAAP,EAHI;AAIJ,QAAEA,IAAI,EAAC,IAAP,EAJI;AAKJ,QAAEA,IAAI,EAAC,IAAP,EALI;AAMJ,QAAEA,IAAI,EAAC,QAAP,EANI;AAOJ,QAAEA,IAAI,EAAC,IAAP,EAPI;AAQJ,QAAEA,IAAI,EAAC,IAAP,EARI,CATC,EAAP;;;AAoBA,G;AACD;AACAE,0B,oCAAyBC,C,EAAG;AAC3B,QAAGA,CAAC,CAACC,KAAF,KAAY,CAAf,EAAiB;AAChBC,SAAG,CAACC,UAAJ,CAAe;AACXC,WAAG,EAAE,gCADM,EAAf;;AAGA;AACD,G;AACDC,mC,6CAAkCL,C,EAAG;AACpC,SAAKL,OAAL,GAAeK,CAAC,CAACM,IAAjB;AACA,G;AACDC,qC,iDAAsC;AACrC,SAAKC,MAAL;AACA,G;AAC0B;AAC1B,OAAKA,MAAL;AACA,C;AACQ;AACR;AACA,MAAIC,OAAO,GAAGP,GAAG,CAACQ,cAAJ,CAAmB,eAAnB,CAAd;AACAD,SAAO,GAAG,KAAKf,WAAL,GAAmBiB,IAAI,CAACC,KAAL,CAAWH,OAAX,CAAtB,GAA4C,EAAnD;AACA,C;AACO;AACPI,aADO,uBACKhB,IADL,EACU;AAChB,SAAKF,OAAL,GAAeE,IAAf;AACA,SAAKW,MAAL;AACA,GAJM;AAKPA,QALO,oBAKC;AACP,QAAG,KAAKb,OAAL,KAAiB,EAApB,EAAuB;AACtB,aAAOO,GAAG,CAACY,SAAJ,CAAc;AACpBC,aAAK,EAAE,SADa;AAEpBC,YAAI,EAAC,MAFe,EAAd,CAAP;;AAIA;AACD;;AAECd,OAAG,CAACe,YAAJ;;;;;;AAMDf,OAAG,CAACC,UAAJ,CAAe;AACXC,SAAG,EAAE,4CAA0C,KAAKT,OADzC,EAAf;;AAGAuB,cAAU,CAAC,YAAI;AACd,WAAI,CAACC,UAAL;AACA,KAFS,EAER,GAFQ,CAAV;AAGA,GA1BM;AA2BPC,eA3BO,yBA2BOC,KA3BP,EA2Ba;AACnB,SAAK1B,OAAL,GAAe0B,KAAK,CAACC,MAAN,CAAaC,KAA5B;AACA,GA7BM;AA8BP;AACAJ,YA/BO,wBA+BK;AACX;AACA,QAAIlB,KAAK,GAAG,KAAKP,WAAL,CAAiB8B,OAAjB,CAAyB,KAAK7B,OAA9B,CAAZ;AACA,QAAGM,KAAK,KAAK,CAAC,CAAd,EAAiB;AAChB,WAAKP,WAAL,CAAiB+B,OAAjB,CAAyB,KAAK9B,OAA9B;AACA,KAFD,MAEO;AACN;AACA,WAAKD,WAAL,CAAiB+B,OAAjB,CAAyB,KAAK/B,WAAL,CAAiBgC,MAAjB,CAAwBzB,KAAxB,EAA8B,CAA9B,EAAiC,CAAjC,CAAzB;AACA;AACD;AACA,QAAG,KAAKP,WAAL,CAAiBiC,MAAjB,GAA0B,CAA7B,EAA+B;AAC9B,WAAKjC,WAAL,CAAiBgC,MAAjB,CAAwB,KAAKhC,WAAL,CAAiBiC,MAAjB,GAA0B,CAAlD,EAAoD,CAApD;AACA;AACDzB,OAAG,CAAC0B,cAAJ,CAAmB,eAAnB,EAAmCjB,IAAI,CAACkB,SAAL,CAAe,KAAKnC,WAApB,CAAnC;AACA,GA7CM;AA8CPoC,cA9CO,0BA8CO;AACb5B,OAAG,CAAC6B,SAAJ,CAAc;AACbhB,WAAK,EAAE,IADM;AAEbiB,aAAO,EAAE,cAFI;AAGbC,gBAAU,EAAE,IAHC;AAIbC,iBAAW,EAAE,IAJA;AAKbC,aAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,YAAGA,GAAG,CAACC,OAAP,EAAe;AACdnC,aAAG,CAACoC,iBAAJ,CAAsB,eAAtB;AACA,gBAAI,CAAC5C,WAAL,GAAmB,EAAnB;AACA;AACD,OAVY;AAWb6C,UAAI,EAAE,gBAAM,CAAE,CAXD;AAYbC,cAAQ,EAAE,oBAAM,CAAE,CAZL,EAAd;;AAcA,GA7DM,E","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=05c8f6ee&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('05c8f6ee')) {\n      api.createRecord('05c8f6ee', component.options)\n    } else {\n      api.reload('05c8f6ee', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=05c8f6ee&\", function () {\n      api.rerender('05c8f6ee', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/reinhardchen/Documents/HBuilderProjects/仿小米商城/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=05c8f6ee&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport card from '@/components/common/card.vue'\nimport colorTag from '@/components/search/color-tag.vue'\nimport uniListItem from '@/components/uni-ui/uni-list-item/uni-list-item.vue'\nexport default {\n\tcomponents:{\n\t\tcard,\n\t\tcolorTag,\n\t\tuniListItem\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thistoryList:[],\n\t\t\tkeyword:\"\",\n\t\t\thot: [\n\t\t\t\t{name:'领劵中心'},\n\t\t\t\t{name:'Redmi K20'},\n\t\t\t\t{name:'智能积木 越野四驱车'},\n\t\t\t\t{name:'手环 腕带'}\n\t\t\t],\n\t\t\tcate:[\n\t\t\t\t{ name:'耳机' },\n\t\t\t\t{ name:'手机' },\n\t\t\t\t{ name:'音箱' },\n\t\t\t\t{ name:'手表' },\n\t\t\t\t{ name:'配件' },\n\t\t\t\t{ name:'网关/传感器' },\n\t\t\t\t{ name:'健康' },\n\t\t\t\t{ name:'酷玩' },\n\t\t\t],\n\t\t}\n\t},\n\t// 监听点击搜索\n\tonNavigationBarButtonTap(e) {\n\t\tif(e.index === 0){\n\t\t\tuni.navigateTo({\n\t\t\t    url: '/pages/search-list/search-list'\n\t\t\t});\n\t\t}\n\t},\n\tonNavigationBarSearchInputChanged(e) {\n\t\tthis.keyword = e.text\n\t},\n\tonNavigationBarSearchInputConfirmed() {\n\t\tthis.search()\n\t},\n\tonNavigationBarButtonTap() {\n\t\tthis.search()\n\t},\n\tonShow() {\n\t\t// 加载历史记录\n\t\tlet history = uni.getStorageSync('searchHistory')\n\t\thistory ? this.historyList = JSON.parse(history) : []\n\t},\n\tmethods:{\n\t\tquickSearch(name){\n\t\t\tthis.keyword = name\n\t\t\tthis.search()\n\t\t},\n\t\tsearch(){\n\t\t\tif(this.keyword === ''){\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ttitle: '关键词不能为空',\n\t\t\t\t\ticon:'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\t// 隐藏键盘\n\n\t\t\t\tuni.hideKeyboard()\n\n\n\n\n\n\t\t\tuni.navigateTo({\n\t\t\t    url: '/pages/search-list/search-list?keyword='+this.keyword,\n\t\t\t\t});\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.addHistory()\n\t\t\t},500)\n\t\t},\n\t\tonInputChange(event){\n\t\t\tthis.keyword = event.target.value\n\t\t},\n\t\t// 加入搜索记录\n\t\taddHistory(){\n\t\t\t// 判断是否搜索过\n\t\t\tlet index = this.historyList.indexOf(this.keyword)\n\t\t\tif(index === -1) {\n\t\t\t\tthis.historyList.unshift(this.keyword)\n\t\t\t} else {\n\t\t\t\t// 重复搜索就置顶\n\t\t\t\tthis.historyList.unshift(this.historyList.splice(index,1)[0])\n\t\t\t}\n\t\t\t// 移除最后一条\n\t\t\tif(this.historyList.length > 6){\n\t\t\t\tthis.historyList.splice(this.historyList.length - 1,1)\n\t\t\t}\n\t\t\tuni.setStorageSync('searchHistory',JSON.stringify(this.historyList))\n\t\t},\n\t\tclearHistory(){\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否需要清除历史搜索记录',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '清除',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\tuni.removeStorageSync('searchHistory')\n\t\t\t\t\t\tthis.historyList = []\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t}\n\t}\n}\n"],"sourceRoot":""}